<div class="container">
  {{#if item}}
    <div class="item-details">
      <h2>{{item.name}}</h2>
      
      <div class="item-image">
        {{#if item.imagePath}}
          <img src="{{item.imagePath}}" alt="{{item.name}}">
        {{else}}
          <p>No image available</p>
        {{/if}}
      </div>

      <div class="item-info">
        <p><strong>ID:</strong> {{item.id}}</p>
        <p><strong>Description:</strong> {{item.description}}</p>
        <p><strong>Location Lost:</strong> {{item.location}}</p>
        <p><strong>Date Lost:</strong> {{item.date}}</p>
        <p><strong>Contact:</strong> {{item.contact}}</p>
        <p><strong>Status:</strong> <span class="status {{item.status}}">{{item.status}}</span></p>
      </div>

      <div class="actions">
        <form method="POST" action="/items/{{item.id}}/status" style="display: inline;">
          <select name="newStatus">
            <option value="Lost" {{#if (eq item.status 'Lost')}}selected{{/if}}>Lost</option>
            <option value="Found" {{#if (eq item.status 'Found')}}selected{{/if}}>Found</option>
            <option value="Closed" {{#if (eq item.status 'Closed')}}selected{{/if}}>Closed</option>
          </select>
          <button type="submit">Update Status</button>
        </form>

        <form method="POST" action="/items/{{item.id}}/delete" style="display: inline;">
          <button type="submit" class="delete-btn">Delete Report</button>
        </form>
      </div>

      <div class="back-link">
        <a href="/dashboard">Back to Dashboard</a>
      </div>
    </div>
  {{else}}
    <h2>Item not found</h2>
    <p><a href="/dashboard">Back to Dashboard</a></p>
  {{/if}}
</div>

<style>
  .container {
    background: white;
    padding: 20px;
    border-radius: 5px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    max-width: 600px;
  }

  .item-image {
    margin: 20px 0;
  }

  .item-image img {
    max-width: 100%;
    height: auto;
    border-radius: 3px;
  }

  .item-info {
    margin: 20px 0;
    padding: 15px;
    background-color: #f9f9f9;
    border-left: 3px solid #333;
  }

  .item-info p {
    margin: 10px 0;
  }

  .status {
    padding: 3px 8px;
    border-radius: 3px;
    font-weight: bold;
  }

  .status.Lost {
    background-color: #ffcccc;
    color: #cc0000;
  }

  .status.Found {
    background-color: #ccffcc;
    color: #00cc00;
  }

  .status.Closed {
    background-color: #cccccc;
    color: #333;
  }

  .actions {
    margin: 20px 0;
    padding: 15px;
    background-color: #f0f0f0;
    border-radius: 3px;
  }

  select {
    padding: 8px;
    margin-right: 10px;
  }

  button {
    background-color: #333;
    color: white;
    padding: 8px 15px;
    border: none;
    border-radius: 3px;
    cursor: pointer;
    margin-right: 10px;
  }

  button:hover {
    background-color: #555;
  }

  .delete-btn {
    background-color: #cc0000;
  }

  .delete-btn:hover {
    background-color: #990000;
  }

  .back-link {
    margin-top: 20px;
    text-align: center;
  }

  .back-link a {
    color: #333;
    text-decoration: none;
    border-bottom: 1px solid #333;
  }

  .back-link a:hover {
    color: #666;
  }
</style>

<script>
// Handlebars helper to compare values
Handlebars.registerHelper('eq', function(a, b) {
  return a === b;
});
</script>
